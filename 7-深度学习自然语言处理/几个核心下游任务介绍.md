# 几个核心下游任务介绍

---

## 前言

https://mp.weixin.qq.com/s/WPkOMeXK5rE-KpBFeI-KAg

## 1. QA 与阅读理解

**QA 是目前BERT 应用效果最好的领域。**

QA的核心问题是：给定用户的自然语言查询问句Q，比如问“美国历史上最像2B铅笔的总统是谁？”，希望系统从大量候选文档里面找到一个语言片段，这个语言片段能够正确回答用户提出的问题，最好是能够直接把答案A返回给用户，比如上面问题的正确答案：“特·不靠谱·间歇脑抽风·朗普”。

QA应用Bert，从流程角度，一般分为两个阶段：检索+QA问答判断。首先往往会把比较长的文档切割成段落或者句子n-gram构成的语言片段，这些片段俗称Passage，然后利用搜索里的倒排索引建立快速查询机制。第一个阶段是检索阶段，这个和常规的搜索过程相同，一般是使用BM25模型（或者BM25+RM3等技术）根据问句查询可能的答案所在候选段落或者句子；第二个阶段是问答判断。在训练模型的时候，一般使用SQuAD等比较大的问答数据集合，或者手上的任务数据，对Bert模型进行 Fine-tuning；在应用阶段，对于第一阶段返回的得分靠前的Top K候选Passage，将用户问句和候选passage作为Bert的输入，Bert做个分类，指出当前的Passage是否包括问句的正确答案，或者输出答案的起始终止位置。这是一个比较通用的利用Bert优化QA问题的解决思路，不同方案大同小异，可能不同点仅仅在于Fine-tuning使用的数据集合不同。

QA和阅读理解，在应用Bert的时候，在某种程度上是基本类似的任务，如果你简化理解的话，其实可以把上述QA流程的第一阶段扔掉，只保留第二阶段，就是阅读理解任务应用Bert的过程。当然，上面是简化地理解，就任务本身来说，其实两者有很大的共性，但是也有些细微的区别；一般普通QA问题在找答案的时候，依赖的上下文更短小，参考的信息更局部一些，答案更表面化一些；而阅读理解任务，要正确定位答案，所参考的上下文范围可能会更长一些，部分高难度的阅读理解问题可能需要机器进行适当程度的推理。总体感觉是阅读理解像是平常QA任务的难度加大版本任务。但是从Bert应用角度，两者流程近似。

## 2. 搜索与信息检索

对于应用Bert，搜索或IR的问题模式及解决方案流程和QA任务是非常相近的，但是因为任务不同，所以还是有些区别。

搜索任务和QA任务的区别，我综合各方面信息，列一下，主要有三点：

1. 首先，尽管两个任务都是在做Query和Document的匹配，但是匹配时侧重于哪些因素，这两个任务是不同的。两个文本的“相关性”和“语义相似性”代表的内涵是有差异的；所谓“相关性”，更强调字面内容的精确匹配，而“语义相似性”则多涵盖了另外一个意思：就是尽管字面不匹配，但是深层语义方面的相近。QA任务对于这两者都是重视的，可能偏向语义相似性更多一些，而搜索任务更偏重文本匹配的相关性方面。这是两个任务的第一个不同。
2. 其次，文档长度的差异。QA任务往往是要查找问题Q的答案，而答案很可能只是一小段语言片段，在Passage这个较短的范围内，一般会包含正确答案，所以QA任务的答案一般比较短，或者说搜索对象比较短就可以覆盖正确答案，即QA任务的处理对象倾向于短文本；而对搜索任务来说，文档普遍比较长。尽管在判断文档是否与查询相关时，也许只依赖长文档中的几个关键Passage或者几个关键句子，但是关键片段有可能散落在文档的不同地方。在应用Bert的时候，因为Bert对于输入长度有限制，最长输入允许512个单位。于是，如何处理长文档，对于搜索来说比较重要；
3. 再次，对于QA这种任务来说，可能文本内包含的信息足够作出判断，所以不需要额外的特征信息；而对于搜索这种任务，尤其是现实生活中的实用化的搜索，而非性质比较单纯的评测中的Ad hoc检索任务。在很多时候，仅仅靠文本可能无法特别有效地判断查询和文档的相关性，其它很多因素也严重影响搜索质量，比如链接分析，网页质量，用户行为数据等各种其它特征也对于最终的判断也起到重要作用。而对于非文本类的信息，Bert貌似不能很好地融合并体现这些信息。推荐领域其实也跟搜索一样，面临类似的问题。

## 3. 对话，聊天机器人

聊天机器人从任务类型划分的话，常见的有日常聊天以及任务解决型。日常聊天好理解，就是漫无目的地闲聊，帮你打发时间，当然前提是你得有空闲时间需要被它打发掉。我发现低龄儿童很可能是这个任务类型的目标受众，两年前我家闺女能兴致勃勃地跟Siri聊半个小时，聊到Siri都嫌她烦了。当然，Siri收到的最后一句话往往是这样的：“Siri，你太笨了！”

任务解决就是帮着用户解决一些日常事务，解决日常碰到的实际问题。比如，99%的直男，一年中会因为忘记一些节假日被女友或者老婆喷得患上节假日恐惧症，有了聊天机器人，你就再也不用怕了。你可以跟聊天机器人说：“以后但凡是节假日，你记得提醒我，帮我给XX订束花。”于是，你在一年的365天里，有364天会收到聊天机器人的500多个提醒，这样你再也不用怕被喷了，生活会变得越来越美好。而且假如万一你中年失业，因为对送花这个事情特别熟悉，所以估计去开个连锁花店，说不定过几年就上市了，也许比瑞幸咖啡上市速度还快……这就是任务解决型聊天机器人带给你的切实的好处，不凑巧还能推着你意外地走向人生巅峰。





