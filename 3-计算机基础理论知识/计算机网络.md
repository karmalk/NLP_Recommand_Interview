# 计算机网络

---

##  TCP 三次握手

所谓三次握手，是指建立一个TCP连接时，需要客户端和服务器总共发送三个包。

三次握手的目的时连接服务器指定端口，建立TCP连接，并同步连接双方的序列号和确认号，交换TCP窗口大小信息，在scoket编程中，客户端执行connect()时，将触发三次握手

- 第一次握手(SYN=1，seq=x):

  - 客户端发送一个TCP的SYN标志位置1的包，指明客户端打算连接的服务器的端口，以及初始序号X，保存在包头的序列号字段中。

- 第二次握手(SYN=1，ACK=1,seq=y,ACKnum=x+1):

  - 服务器发回确认包ACK 应答，即SYN标志位和ACK标志位均为1，服务器端选择自己的ISN序列号，放到Seq域中，同时将确认序号设置为客户的ISN加1，即X+1，发送完后，服务器端进入SYN_RCVD状态

- 第三次握手(ACK=1,ACKnum=y+1):

  客户端再次发送确认包(ACK)，SYN标志位位0，ACK标志位位1，并且把服务器发来的ACK的序号字段+1，放在确定字段中发送给对方，并且在数据段放写ISN的+1。发送完毕后，客户段进入ESTABLISTED状态，当服务器端接收到这个包时，也进入ESTABLISTED状态，TCP三次握手结束